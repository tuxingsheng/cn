<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>中国国情H5</title>
    <link rel="stylesheet" href="./src/css/keyframes.css">
    <link rel="stylesheet" href="./src/css/index.css">
</head>
<body>
<!-- 加载loading -->
<div class="p0" id="loading">
    <div class="c1">
        <div class="c1-1">
            <div class="c1-1-1"></div>
        </div>
        <div class="c1-2">
            <p>Loading <span id="loadNum">0</span>%</p>
            <p>建议在WIFI环境下观看，土豪请忽略</p>
        </div>
    </div>
    <div class="c2"></div>
</div>
<!-- 加载loading -->
<div id="cn" class="fullpage">

    <!-- 第3页 -->
    <div class="fullpage-page p3">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1"></div>
            <div class="c4-2"></div>
            <div class="c4-3"></div>
            <div class="c4-4"></div>
        </div>
    </div>
    <!-- 第3页 -->

    <!-- 第1页 -->
    <div class="fullpage-page p1">
        <div class="c6"></div>
        <div class="c1">
            <div class="c1-1"></div>
        </div>
        <div class="c3"></div>
        <div class="c4"></div>
        <div class="c5"></div>
    </div>
    <!-- 第1页 -->
    <!-- 第2页 -->
    <div class="fullpage-page p2">
        <div class="c1">
            <div class="c1-1"></div>
            <div class="c1-2"></div>
            <div class="c1-3"></div>
        </div>
        <div class="c4"></div>
        <div class="c5"></div>
        <div class="c6"></div>
        <div class="c7"></div>
    </div>
    <!-- 第2页 -->

    <!-- 第4页 -->
    <div class="fullpage-page p4">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1">
                <div class="c4-1-1"></div>
                <div class="c4-1-2"></div>
                <div class="c4-1-3"></div>
                <div class="c4-1-4"></div>
            </div>
        </div>
        <div class="c5">
            <div class="c5-1"></div>
            <div class="c5-2"></div>
        </div>
    </div>
    <!-- 第4页 -->
    <!-- 第5页 -->
    <div class="fullpage-page p5">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1"></div>
            <div class="c4-2">
                <div class="c4-2-1"></div>
                <div class="c4-2-2"></div>
                <div class="c4-2-3"></div>
                <div class="c4-2-4"></div>
                <div class="c4-2-5"></div>
            </div>
            <div class="c4-3"></div>
            <div class="c4-4"></div>
        </div>
    </div>
    <!-- 第5页 -->
    <!-- 第6页 -->
    <div class="fullpage-page p6">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1">
                <div class="c4-1-1"></div>
                <div class="c4-1-2">
                    <div class="c4-1-2-1"></div>
                    <div class="c4-1-2-2"></div>
                    <div class="c4-1-2-3"></div>
                    <div class="c4-1-2-4"></div>
                    <div class="c4-1-2-5"></div>
                </div>
            </div>
            <div class="c4-2"></div>
        </div>
    </div>
    <!-- 第6页 -->
    <!-- 第7页 -->
    <div class="fullpage-page p7">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1">
                <div class="c4-1-1"></div>
            </div>
            <div class="c4-2"></div>
            <div class="c4-3"></div>
            <div class="c4-4"></div>
        </div>
    </div>
    <!-- 第7页 -->
    <!-- 第8页 -->
    <div class="fullpage-page p8">
        <div class="c1"></div>
        <div class="c2"></div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c4">
            <div class="c4-1"></div>
            <div class="c4-2">
                <div>
                    <div class="c4-2-i c4-2-i-1"></div>
                    <div class="c4-2-t c4-2-t-1"></div>
                </div>
                <div>
                    <div class="c4-2-i c4-2-i-2"></div>
                    <div class="c4-2-t c4-2-t-2"></div>
                </div>
                <div>
                    <div class="c4-2-i c4-2-i-3"></div>
                    <div class="c4-2-t c4-2-t-3"></div>
                </div>
            </div>
            <div class="c4-3"></div>
            <div class="c4-4">
                <div class="c4-4-1"></div>
                <div class="c4-4-2"></div>
            </div>
        </div>
    </div>
    <!-- 第8页 -->
    <!-- 第9页 -->
    <div class="fullpage-page p9">
        <div class="c1">
            <div class="c1-1"></div>
            <div class="c1-2"></div>
            <div class="c1-3"></div>
            <div class="c1-4"></div>
            <div class="c1-5"></div>
        </div>
        <canvas class="c2" id="fireworks"></canvas>
    </div>
    <!-- 第9页 -->
</div>
</body>
<script src="./src/js/fullPage-1.0.min.js" type="text/javascript"></script>
<script src="./src/js/fireworks.js" type="text/javascript"></script>
<script>
    var num = 0;
    var rate = 10;
    var lazy = 0;
    var pages = 8;
    var loading = document.getElementById('loading');
    var loadNum = document.getElementById('loadNum');

    var autoPlay, interval, fullpage;

    var t = setInterval(function () {
        num += Math.ceil(Math.random() * 10);
        if (num >= 100) {
            num = 100;
            clearInterval(t);
            loadNum.innerHTML = num;
            setTimeout(function () {
                loading.style.display = 'none';
                fullpage = new FullPage({
                    id: 'cn',
                    slideTime: 500,                                 // time of slide
                    effect: {                                       // slide effect
                        transform: {
                            translate: 'Y',					        // 'X'|'Y'|'XY'|'none'
                            scale: [1, 1],					        // [scalefrom, scaleto]
                            rotate: [0, 0]					        // [rotatefrom, rotateto]
                        },
                        opacity: [0, 1]                             // [opacityfrom, opacityto]
                    },
                    mode: 'touch,wheel',                            // mode of fullpage
                    easing: 'ease',
                    callback: function (index, currentPage) {       // callback when pageChange
                        if(index == pages){
                            loop();
                        }else{
                            cancel();
                        }
//                        index = index + 1 > 3 ? 0 : index + 1;
//                        autoPlay(index);
                    }
                });

//                autoPlay = function (to) {
//                    clearTimeout(interval);
//                    interval = setTimeout(function () {
//                        fullpage.go(to);
//                    }, 3000);
//                };
//                interval = setTimeout(function () {
//                    fullpage.go(fullpage.currentPage() + 1);
//                }, 3000);
            }, lazy);
        }
        loadNum.innerHTML = num;
    }, rate);
</script>
</html>