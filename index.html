<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>中国国情H5</title>
    <link rel="stylesheet" href="./src/css/keyframes.css">
    <link rel="stylesheet" href="./src/css/index.css">
</head>
<body>
<!-- 加载loading -->
<div class="p0" id="loading">
    <div class="c1">
        <div class="c1-1">
            <div class="c1-1-1"></div>
        </div>
        <div class="c1-2">
            <p>Loading <span id="loadNum">0</span>%</p>
            <p>建议在WIFI环境下观看，土豪请忽略</p>
        </div>
    </div>
    <div class="c2"></div>
</div>
<!-- 加载loading -->
<div id="cn" class="fullpage">
    <!-- 第一页 -->
    <div class="fullpage-page p1">
        <div class="c6"></div>
        <div class="c1">
            <div class="c1-1"></div>
        </div>
        <div class="c3"></div>
        <div class="c4"></div>
        <div class="c5"></div>
    </div>
    <!-- 第一页 -->
    <!-- 第二页 -->
    <div class="fullpage-page p2">
        <div class="c1">
            <div class="c1-1"></div>
            <div class="c1-2"></div>
            <div class="c1-3"></div>
        </div>
        <div class="c4"></div>
        <div class="c5"></div>
        <div class="c6"></div>
        <div class="c7"></div>
    </div>
    <!-- 第二页 -->
    <!-- 第三页 -->
    <div class="fullpage-page p3">
        3
    </div>
    <!-- 第三页 -->
    <!-- 第四页 -->
    <div class="fullpage-page p4">
        <div class="c1"></div>
        <div class="c2">
            <div class="c2-1"></div>
        </div>
        <div class="c3">
            <div class="c3-1"></div>
            <div class="c3-2"></div>
        </div>
        <div class="c5">
            <div class="c5-1">
                <div class="c5-1-1"></div>
                <div class="c5-1-2"></div>
                <div class="c5-1-3"></div>
                <div class="c5-1-4"></div>
            </div>
        </div>
        <div class="c6">
            <div class="c6-1"></div>
            <div class="c6-2"></div>
        </div>
    </div>
    <!-- 第四页 -->
</div>
</body>
<script src="./src/js/fullPage-1.0.min.js" type="text/javascript"></script>
<script>
    var num = 0;
    var rate = 300;
    var lazy = 1000;
    var loading = document.getElementById('loading');
    var loadNum = document.getElementById('loadNum');

    var autoPlay, interval, fullpage;

    var t = setInterval(function () {
        num += Math.ceil(Math.random() * 10);
        if (num >= 100) {
            num = 100;
            clearInterval(t);
            loadNum.innerHTML = num;
            setTimeout(function () {
                loading.style.display = 'none';
                fullpage = new FullPage({
                    id: 'cn',
                    slideTime: 500,                                 // time of slide
                    effect: {                                       // slide effect
                        transform: {
                            translate: 'Y',					        // 'X'|'Y'|'XY'|'none'
                            scale: [1, 1],					        // [scalefrom, scaleto]
                            rotate: [0, 0]					        // [rotatefrom, rotateto]
                        },
                        opacity: [0, 1]                             // [opacityfrom, opacityto]
                    },
                    mode: 'touch,wheel',                            // mode of fullpage
                    easing: 'ease',
                    callback: function (index, currentPage) {       // callback when pageChange
                        //index = index + 1 > 3 ? 0 : index + 1;
                        //autoPlay(index);
                    }
                });
            }, lazy);
        }
        loadNum.innerHTML = num;
    }, rate);




    //    autoPlay = function (to) {
    //        clearTimeout(interval);
    //        interval = setTimeout(function () {
    //            fullpage.go(to);
    //        }, 3000);
    //    };
    //    interval = setTimeout(function () {
    //        fullpage.go(fullpage.currentPage() + 1);
    //    }, 3000);
</script>
</html>